<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>MBlockly</title>
    <!-- style -->
    <link rel="stylesheet" href="../../css/widget.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/mblockly.numberinput.css">
    <link rel="stylesheet" href="../../css/mblockly.pianoinput.css">
    <link rel="stylesheet" href="../../css/mblockly.ledmatrix.css">
    <link rel="stylesheet" href="../../vendors/owl-carousel/owl.carousel.css">
    <link rel="stylesheet" href="../../css/neuron.css">
    <link rel="stylesheet" href="../../css/airblock.css">
    <link rel="stylesheet" href="../../css/style-for-mobile.css">

    <!-- blockly core files -->
    <script src="../../vendors/blockly/blockly_compressed.js"></script>
    <!-- blockly blocks defined -->
    <script src="../../vendors/blockly/blocks_compressed.js"></script>
    <script src="../../vendors/blockly/javascript_compressed.js"></script>

    <!-- language -->
    <script src="../../vendors/blockly/msg/js/zh-hans.js"></script>
    <script src="../../msg/js/zh-hans.js"></script>

    <!-- libary -->
    <script src="../../vendors/jquery-2.1.3.min.js"></script>
    <script src="../../vendors/acorn_interpreter.js"></script>
    <script src="../../vendors/owl-carousel/owl.carousel.min.js"></script>

    <!-- common-->
    <script src="../../js/common/base.js"></script>
    <script src="../../js/common/block_keeper.js"></script>
    <script src="../../js/common/block_color.js"></script>
    <script src="../../js/common/blockly_init.js"></script>
    <script src="../../js/common/workspace_extend_events.js"></script>
    <script src="../../js/common/settings.js"></script>
    <script src="../../js/common/runtime.js"></script>
    <!-- common blocks -->
    <script src="../../js/common/blocks/blocks_control.js"></script>
    <script src="../../js/common/blocks/blocks_math.js"></script>
    <!-- common blockly modified -->
    <script src="../../js/common/blockly-extend/core/workspace_svg.js"></script>
    <script src="../../js/common/blockly-extend/core/xml.js"></script>
    <script src="../../js/common/blockly-extend/core/toolbox.js"></script>
    <script src="../../js/common/blockly-extend/core/field_textinput.js"></script>
    <script src="../../js/common/blockly-extend/core/constants.js"></script>
    <script src="../../js/common/blockly-extend/core/flyout.js"></script>
    <script src="../../js/common/blockly-extend/core/basenode.js"></script>
    <script src="../../js/common/blockly-extend/core/blockly.js"></script>
    <script src="../../js/common/blockly-extend/core/block_svg.js"></script>
    <script src="../../js/common/blockly-extend/core/block_render_svg.js"></script>
    <script src="../../js/common/blockly-extend/core/utils.js"></script>
    <script src="../../js/common/blockly-extend/core/scrollbar.js"></script>
    <script src="../../js/common/blockly-extend/core/widgetdiv.js"></script>
    <script src="../../js/common/blockly-extend/generators/javascript/variables.js"></script>
    <!-- cmomon blockly widgets -->
    <script src="../../js/common/blockly-widgets/mblockly.numpadinput.js"></script>
    <script src="../../js/common/blockly-widgets/mblockly.pianoinput.js"></script>
    <script src="../../js/common/blockly-widgets/mblockly.ledmatrix.js"></script>

    <!-- customized blocks -->
    <script src="../../js/makeblockhd/blocks_start.js"></script>
    <script src="../../js/makeblockhd/blocks_event.js"></script>
    <script src="../../js/makeblockNeuron/blocks_display.js"></script>
    <script src="../../js/airblock/blocks_move.js"></script>
    <script src="../../js/airblock/blocks_detect.js"></script>
    <script src="../../js/airblock/blocks_display.js"></script>

    <!-- logic -->
    <script src="../../js/makeblockhd/app.js"></script>
    <script src="../../js/makeblockhd/data.js"></script>
    <script src="../../js/makeblockhd/whentable.js"></script>
    <script src="../../js/makeblockhd/control.js"></script>
    <script src="../../js/makeblockhd/action.js"></script>
    <script src="../../js/makeblockhd/hostInterface.js"></script>
    <script src="../../js/airblock/hostInterface_airblock.js"></script>
    <script src="../../js/airblock/action_airblock.js"></script>
    <script src="../../js/airblock/neurons_logic_engine.js"></script>
    <!-- neuron -->
    <script src="../../js/makeblockNeuron/neuron.js"></script>
    <script src="../../js/makeblockNeuron/servo.js"></script>
    <script src="../../js/makeblockNeuron/neuron_ui.js"></script>
    <script src="../../js/makeblockNeuron/makeblockNeuron.js"></script>
</head>
<body>

    <div class="scene stage">
        <!-- top widgets -->
        <div id="widgets">
            <div id="viewport">
                <div class="arrow arrow-left"></div>
                <div id="wrapper">
                    <ul id="scroller" class="owl-carousel">
                    </ul>
                </div>
                <div class="arrow arrow-right"></div>
            </div>
        </div>

        <!-- board warpper -->
        <div id="board-wrapper">
            <!-- menu left -->
            <div id="menuLeft">
                <div id="blockDeletionMask"><div class="trash-icon"></div></div>
                <div id="toolboxScrollingDiv">
                    <div id="toolboxDiv"></div>
                    <div class="splitline"></div>
                </div>
            </div>

            <!-- main -->
            <div id="panel">
                <div id="blocklyDiv"></div>
            </div>
        </div>

        <!-- neuron-test -->
        <div class="neuron-test">
            <div class="ops">
                <div class="flex"></div>
            </div>
            <table class="table"></table>
        </div>

        <div class="menus">
            <div class="menu-tip"></div>
        </div>

        <div class="tips">
            <table>
                <tr>
                    <th class="item">条目</th>
                    <th class="description">说明</th>
                </tr>
                <tr>
                    <td>智能舵机</td>
                    <td>速度值范围是20~50，角度的范围是350~3800 <br>
                        <b>注意：超出角度范围会进入死区，需手动调整回正常位置</b>
                    </td>
                </tr>
                <tr>
                    <td>9g舵机</td>
                    <td>角度的范围是0~180</td>
                </tr>
                <tr>
                    <td>直流电机</td>
                    <td>速度范围是0~255</td>
                </tr>
                <tr>
                    <td>编码电机</td>
                    <td>速度范围是0~255</td>
                </tr>
                <tr>
                    <td>步进电机</td>
                    <td>
                        位置说明：3200步是一圈，给出的数值即是步数 <br>
                        速度说明：单位是rpm，表示一秒转动多少圈
                    </td>
                </tr>
            </table>
        </div>
    </div> <!-- stage ends -->

    <xml id="toolbox" style="display: none">
        <category name="起始" class="category_start">
          <block type="when_slider_changed" data-widgetType="Slider" data-blockType="when"></block>
          <block type="when_button_pressed_down" data-widgetType="Button" data-blockType="when"></block>
          <block type="when_button_pressed_up" data-widgetType="Button" data-blockType="when"></block>
          <block type="when_switch_on" data-widgetType="Switch" data-blockType="when"></block>
          <block type="when_switch_off" data-widgetType="Switch" data-blockType="when"></block>

          <block type="when_dpad_top_down" data-widgetType="DPad" data-blockType="when"></block>
          <block type="when_dpad_bottom_down" data-widgetType="DPad" data-blockType="when"></block>
          <block type="when_dpad_left_down" data-widgetType="DPad" data-blockType="when"></block>
          <block type="when_dpad_right_down" data-widgetType="DPad" data-blockType="when"></block>
          <block type="when_dpad_top_up" data-widgetType="DPad" data-blockType="when"></block>
          <block type="when_dpad_bottom_up" data-widgetType="DPad" data-blockType="when"></block>
          <block type="when_dpad_left_up" data-widgetType="DPad" data-blockType="when"></block>
          <block type="when_dpad_right_up" data-widgetType="DPad" data-blockType="when"></block>
          <block type="when_start" data-widgetType="Display" data-blockType="when"></block>
        </category>

        <category name="移动" class="category_move">
            <block type="move_start"></block>

            <block type="move_stop"></block>

            <block type="move_carstop" data-deviceType="aircar"></block>

            <block type="move_carmove" data-deviceType="aircar">
                <value name="ANGLE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="DURATION">
                    <block type="math_number">
                        <field name="NUM">1</field>
                    </block>
                </value>
            </block>

            <block type="move_carrotate" data-deviceType="aircar">
                <value name="ANGLE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
            </block>

            <block type="move_cussetmotorthrottle" data-deviceType="aircustom">
                <value name="THROTTLE">
                    <block type="math_number">
                        <field name="NUM">2000</field>
                    </block>
                </value>
            </block>

            <block type="move_carsmove" data-deviceType="aircar"></block>

            <block type="move_dronemove" data-deviceType="airdrone">
                <value name="ANGLE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="DURATION">
                    <block type="math_number">
                        <field name="NUM">1</field>
                    </block>
                </value>
            </block>

            <block type="move_droneupdown" data-deviceType="airdrone">
                <value name="ANGLE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="DURATION">
                    <block type="math_number">
                        <field name="NUM">1</field>
                    </block>
                </value>
                <value name="RATE">
                    <block type="math_number">
                        <field name="NUM">1.5</field>
                    </block>
                </value>
            </block>

            <block type="move_dronerotate" data-deviceType="airdrone">
                <value name="ANGLE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
            </block>

           <block type="move_dronecomposite" data-deviceType="airdrone">
                <value name="ANGLE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="DURATION">
                    <block type="math_number">
                        <field name="NUM">1</field>
                    </block>
                </value>
                <value name="ROLLANGLE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="YAWRATE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="UPORDOWNRATE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
            </block>

            <block type="move_dronesetheight" data-deviceType="airdrone">
                <value name="HEIGHT">
                    <block type="math_number">
                        <field name="NUM">1</field>
                    </block>
                </value>
            </block>

            <block type="move_dronehover" data-deviceType="airdrone"></block>

            <block type="move_droneland" data-deviceType="airdrone"></block>

           <!-- <block type="move_pushcontrolword" data-deviceType="airdrone-aircar">
                <value name="ANGLE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="DURATION">
                    <block type="math_number">
                        <field name="NUM">1</field>
                    </block>
                </value>
            </block> -->

        </category>

        <category name="展示" class="category_display">
            <block type="display_read_x_on_y"></block>
            <block type="display_airblock_led_color">
                <value name="RED">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="GREEN">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
                <value name="BLUE">
                    <block type="math_number">
                        <field name="NUM">0</field>
                    </block>
                </value>
            </block>
        </category>

        <category name="事件" class="category_event">
            <block type="tablet_shaked"></block>
            <block type="tablet_tilt_lr"></block>
            <block type="tablet_tilt_fb"></block>
            <block type="event_switch_changed"></block>
            <block type="event_button_changed"></block>
        </category>

        <category name="探测" class="category_detect">
            <block type="detect_get_slider_value"></block>
            <!-- <block type="detect_airblock_state" data-deviceType="airdrone"></block> -->
            <block type="detect_airblock_speed"></block>
            <block type="detect_airblock_ultrasonic_distance"></block>
            <block type="detect_airblock_electricity"></block>
            <block type="detect_airblock_batterypercent"></block>
            <block type="detect_airblock_airpressure"></block>
            <block type="detect_airblock_temperature"></block>
            <block type="detect_airblock_relative_altitude" data-deviceType="aircustom"></block>
            <block type="detect_airblock_altitude"></block>
            <block type="detect_airblock_motor_number"></block>

        </category>

        <category name="数学" class="category_math">
            <block type="math_arithmetic"></block>
            <block type="logic_compare"></block>
            <block type="logic_operation"></block>
            <block type="logic_negate"></block>
            <block type="logic_boolean"></block>
            <block type="math_number"></block>
            <block type="math_number_list"></block>
            <block type="math_change"></block>
            <block type="variables_set"></block>
            <block type="variables_get"></block>
            <block type="math_number_property"></block>
            <block type="math_round"></block>

            <block type="math_modulo">
                <value name="DIVIDEND">
                    <block type="math_number">
                        <field name="NUM">1</field>
                    </block>
                </value>
                <value name="DIVISOR">
                    <block type="math_number">
                        <field name="NUM">10</field>
                    </block>
                </value>
            </block>
            <block type="math_random_float"></block>
            <block type="math_random_int">
                <value name="FROM">
                    <block type="math_number">
                        <field name="NUM">1</field>
                    </block>
                </value>
                <value name="TO">
                    <block type="math_number">
                        <field name="NUM">10</field>
                    </block>
                </value>
            </block>
            <block type="colour_picker"></block>
        </category>


        <category name="控制" class="category_control">
            <block type="controls_if"></block>
            <block type="controls_if">
              <mutation else="1"></mutation>
            </block>
            <block type="wait">
              <value name="DELAY">
                  <block type="math_number">
                      <field name="NUM">1</field>
                  </block>
              </value>
            </block>
            <block type="wait_until"></block>
            <block type="controls_repeat_forever"></block>
            <block type="controls_repeat_ext">
                <value name="TIMES">
                    <block type="math_number">
                      <field name="NUM">10</field>
                    </block>
              </value>
            </block>
            <block type="controls_whileUntil"></block>
            <block type="controls_for">
                <value name="FROM">
                    <block type="math_number">
                      <field name="NUM">1</field>
                    </block>
                </value>
                <value name="TO">
                  <block type="math_number">
                    <field name="NUM">10</field>
                  </block>
                </value>
                <value name="BY">
                  <block type="math_number">
                    <field name="NUM">1</field>
                  </block>
                </value>
            </block>
            <block type="controls_flow_statements"></block>
        </category>
    </xml>

</body>
</html>
